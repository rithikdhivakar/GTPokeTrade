{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PokéTrade</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f7f9fc;
            margin: 0;
            padding: 0;
        }
        a {
            text-decoration: none;
        }
        <!-- Google Fonts for Luckiest Guy and Fredoka -->
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Fredoka&display=swap" rel="stylesheet">
    </style>
</head>
<body>
  <nav style="background-color: #2c3e50; padding: 12px 30px; color: white; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
    
    <!-- Left: Logo -->
    <a href="/" style="font-weight: bold; font-size: 18px; color: white; text-decoration: none;">PokéTrade</a>

    {% if user.is_authenticated %}
      <!-- Middle: Navigation Links -->
      <div style="display: flex; gap: 24px; flex-wrap: wrap; justify-content: center; flex: 1; margin-left: 30px; min-width: 300px;">
        <a href="{% url 'my_collection' %}" style="color: white;">My Collection</a>
        <a href="{% url 'marketplace' %}" style="color: white;">Marketplace</a>
        <a href="{% url 'user_list' %}" style="color: white;">Other Users</a>
        <a href="{% url 'trade_requests' %}" style="color: white;">Trade Requests</a>
        <a href="{% url 'quiz' %}" style="color: white;">Quiz</a>
        <a href="{% url 'my_achievements' %}" style="color: white;">Achievements</a>
      </div>

      <!-- Right: User Info -->
      <div style="display: flex; gap: 12px; align-items: center;">
        <a href="{% url 'update_profile' %}" style="display: flex; align-items: center; text-decoration: none; color: white;">
          {% if user.userprofile.profile_pic %}
            <img src="{{ user.userprofile.profile_pic.url }}" alt="Profile Pic" style="width: 36px; height: 36px; border-radius: 50%; object-fit: cover; margin-right: 8px;">
          {% else %}
            <img src="https://www.gravatar.com/avatar/?d=mp" alt="Default" style="width: 36px; height: 36px; border-radius: 50%; object-fit: cover; margin-right: 8px;">
          {% endif %}
          <strong>{{ user.userprofile.display_name|default:user.username }}</strong>
        </a>
        <span style="background-color: #2ecc71; padding: 4px 12px; border-radius: 20px; font-weight: bold;">
          ${{ user.userprofile.balance }}
        </span>
        <a href="{% url 'logout' %}" style="color: white;">Logout</a>
      </div>

    {% else %}
      <!-- When not logged in -->
      <div style="display: flex; gap: 24px; margin-left: auto;">
        <a href="{% url 'login' %}" style="color: white;">Login</a>
        <a href="{% url 'register' %}" style="color: white;">Register</a>
        <a href="{% url 'about' %}" style="color: white;">About</a>
      </div>
    {% endif %}
  </nav>

  <div style="max-width: 1200px; margin: auto;">
    <hr style="margin: 20px 0; border: none; border-top: 1px solid #ccc;">
    {% block content %}
    {% endblock %}
  </div>
</body>
</html>

